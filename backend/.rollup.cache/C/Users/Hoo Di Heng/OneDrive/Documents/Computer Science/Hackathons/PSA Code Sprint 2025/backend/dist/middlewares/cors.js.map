{"version":3,"file":"cors.js","sourceRoot":"","sources":["../../middlewares/cors.ts"],"names":[],"mappings":"AAEA,kFAAkF;AAClF,MAAM,CAAC,OAAO,UAAU,IAAI,CAC3B,OAAgB,EAChB,QAAkB,EAClB,IAAkB;IAElB,MAAM,cAAc,GAAG;QACtB,uBAAuB;QACvB,kBAAkB;QAClB,yCAAyC;KACzC,CAAC;IACF,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACxC,IAAI,MAAM,IAAI,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;QAC/C,QAAQ,CAAC,SAAS,CAAC,6BAA6B,EAAE,MAAM,CAAC,CAAC;IAC3D,CAAC;IACD,MAAM,OAAO,GAAG,IAAI,OAAO,CAAC;QAC3B,8BAA8B,EAAE,iCAAiC;QACjE,8BAA8B,EAC7B,8DAA8D;QAC/D,+BAA+B,EAAE,gBAAgB;QACjD,kCAAkC,EAAE,MAAM;QAC1C,wBAAwB,EAAE,SAAS;KACnC,CAAC,CAAC;IACH,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IAC7B,IAAI,EAAE,CAAC;AACR,CAAC","sourcesContent":["import { NextFunction, Request, Response } from \"express\";\r\n\r\n// Cors middleware for cross origin requests (backend server hosted independently)\r\nexport default function cors(\r\n\trequest: Request,\r\n\tresponse: Response,\r\n\tnext: NextFunction\r\n) {\r\n\tconst allowedOrigins = [\r\n\t\t\"http://localhost:5173\",\r\n\t\t\"http://localhost\",\r\n\t\t\"https://psa-code-sprint-2025.vercel.app\",\r\n\t];\r\n\tconst origin = request.header(\"Origin\");\r\n\tif (origin && allowedOrigins.includes(origin)) {\r\n\t\tresponse.setHeader(\"Access-Control-Allow-Origin\", origin);\r\n\t}\r\n\tconst headers = new Headers({\r\n\t\t\"Access-Control-Allow-Methods\": \"GET, POST, PUT, DELETE, OPTIONS\",\r\n\t\t\"Access-Control-Allow-Headers\":\r\n\t\t\t\"Content-Type, X-Access-Token, Authorization, Accept-Language\",\r\n\t\t\"Access-Control-Expose-Headers\": \"X-Access-Token\",\r\n\t\t\"Access-Control-Allow-Credentials\": \"true\",\r\n\t\t\"Access-Control-Max-Age\": \"1728000\",\r\n\t});\r\n\tresponse.setHeaders(headers);\r\n\tnext();\r\n}\r\n"]}