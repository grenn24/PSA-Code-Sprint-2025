{"version":3,"file":"user.js","sourceRoot":"","sources":["../../models/user.ts"],"names":[],"mappings":"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","sourcesContent":["import mongoose, { model, Schema } from \"mongoose\";\r\n\r\nconst userSchema = new Schema({\r\n\tname: { type: String, required: true },\r\n\temail: { type: String, required: true, unique: true, lowercase: true },\r\n\tposition: {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t},\r\n\trole: {\r\n\t\ttype: String,\r\n\t\tenum: [\"user\", \"admin\"],\r\n\t\tdefault: \"user\",\r\n\t},\r\n\tpassword: { type: String, required: true },\r\n\tsupervisor: { type: Schema.Types.ObjectId, ref: \"User\" },\r\n\tsubordinates: [{ type: Schema.Types.ObjectId, ref: \"User\" }],\r\n\tavatar: { type: String },\r\n\tcreatedAt: { type: Date, default: Date.now },\r\n\texperienceLevel: { type: Number, default: 0 },\r\n\tbio: String,\r\n\tskills: {\r\n\t\ttype: [\r\n\t\t\t{\r\n\t\t\t\tname: { type: String },\r\n\t\t\t\tlevel: { type: Number, default: 0 },\r\n\t\t\t},\r\n\t\t],\r\n\t\tdefault: [],\r\n\t},\r\n\tmentorshipRequests: {\r\n\t\ttype: [\r\n\t\t\t{\r\n\t\t\t\tsender: { type: Schema.Types.ObjectId, ref: \"User\" },\r\n\t\t\t\tmessage: String,\r\n\t\t\t},\r\n\t\t],\r\n\t\tdefault: [],\r\n\t},\r\n\tmentees: {\r\n\t\ttype: [{ type: Schema.Types.ObjectId, ref: \"User\" }],\r\n\t\tdefault: [],\r\n\t},\r\n\tnotifications: {\r\n\t\ttype: [\r\n\t\t\t{\r\n\t\t\t\tmessage: {\r\n\t\t\t\t\ttype: String,\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t},\r\n\t\t\t\tread: { type: Boolean, default: false },\r\n\t\t\t\tcreatedAt: { type: Date, default: Date.now },\r\n\t\t\t},\r\n\t\t],\r\n\t\tdefault: [],\r\n\t},\r\n\tcareerPath: [\r\n\t\t{\r\n\t\t\tposition: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\trequired: true,\r\n\t\t\t},\r\n\t\t\tprogress: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0,\r\n\t\t\t},\r\n\t\t\tstartedAt: {\r\n\t\t\t\ttype: Date,\r\n\t\t\t},\r\n\t\t\tendedAt: {\r\n\t\t\t\ttype: Date,\r\n\t\t\t},\r\n\t\t\tskillsRequired: {\r\n\t\t\t\ttype: [String],\r\n\t\t\t\tdefault: [],\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tlastSeen: { type: Date, default: null },\r\n\tisOnline: { type: Boolean, default: false },\r\n});\r\n\r\nuserSchema.virtual(\"mentors\", {\r\n\tref: \"User\",\r\n\tlocalField: \"_id\",\r\n\tforeignField: \"mentees\",\r\n});\r\nuserSchema.set(\"toObject\", { virtuals: true });\r\nuserSchema.set(\"toJSON\", { virtuals: true });\r\n\r\nconst User = model(\"User\", userSchema);\r\n\r\nexport default User;\r\n"]}