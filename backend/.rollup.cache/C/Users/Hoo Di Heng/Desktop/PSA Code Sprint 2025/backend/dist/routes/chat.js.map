{"version":3,"file":"chat.js","sourceRoot":"","sources":["../../routes/chat.ts"],"names":[],"mappings":"AAAA,OAAO,OAAO,MAAM,SAAS,CAAC;AAC9B,OAAO,cAAc,MAAM,wBAAwB,CAAC;AACpD,OAAO,EAAE,KAAK,EAAE,MAAM,2BAA2B,CAAC;AAClD,OAAO,IAAI,MAAM,wBAAwB,CAAC;AAE1C,MAAM,UAAU,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAEpC,4BAA4B;AAC5B,UAAU,CAAC,IAAI,CACd,cAAc,EACd,KAAK,EAAE,EACP,cAAc,CAAC,WAAW,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAC3E,CAAC;AAEF,UAAU,CAAC,GAAG,CACb,6BAA6B,EAC7B,KAAK,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC,EAC9B,IAAI,CAAC,MAAM,CAAC,EACZ,cAAc,CAAC,WAAW,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAC7E,CAAC;AAGF,UAAU,CAAC,IAAI,CACd,EAAE,EACF,cAAc,CAAC,WAAW,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAC1E,CAAC;AAEF,UAAU,CAAC,IAAI,CACd,WAAW,EACX,KAAK,EAAE,EACP,IAAI,CAAC,MAAM,CAAC,EACZ,cAAc,CAAC,WAAW,CACzB,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,CACtD,CACD,CAAC;AAEF,eAAe,UAAU,CAAC","sourcesContent":["import express from \"express\";\r\nimport chatController from \"../controllers/chat.js\";\r\nimport { getID } from \"../middlewares/request.js\";\r\nimport auth from \"../middlewares/auth.js\";\r\n\r\nconst chatRouter = express.Router();\r\n\r\n// Define the route handlers\r\nchatRouter.post(\r\n\t\"/:ID/message\",\r\n\tgetID(),\r\n\tchatController.catchErrors(chatController.postMessage.bind(chatController))\r\n);\r\n\r\nchatRouter.put(\r\n\t\"/:chatID/message/:messageID\",\r\n\tgetID([\"chatID\", \"messageID\"]),\r\n\tauth(\"user\"),\r\n\tchatController.catchErrors(chatController.updateMessage.bind(chatController))\r\n);\r\n\r\n\r\nchatRouter.post(\r\n\t\"\",\r\n\tchatController.catchErrors(chatController.createChat.bind(chatController))\r\n);\r\n\r\nchatRouter.post(\r\n\t\"/:ID/read\",\r\n\tgetID(),\r\n\tauth(\"user\"),\r\n\tchatController.catchErrors(\r\n\t\tchatController.markMessagesAsRead.bind(chatController)\r\n\t)\r\n);\r\n\r\nexport default chatRouter;\r\n"]}