{"version":3,"file":"websocket.js","sourceRoot":"","sources":["../../routes/websocket.ts"],"names":[],"mappings":"AAEA,OAAO,mBAAmB,MAAM,6BAA6B,CAAC;AAE9D,SAAS,eAAe,CAAkB,UAAkB;IAC3D,MAAM,OAAO,GAAsB,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAC1D,IAAI,OAAO,CAAC,IAAI,KAAK,iBAAiB,EAAE,CAAC;QACxC,mBAAmB,CAAC,WAAW,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAChD,CAAC;AACF,CAAC;AAED,eAAe,eAAe,CAAC","sourcesContent":["import { WebsocketMessage } from \"@common/types/http.js\";\r\nimport WebSocket from \"ws\";\r\nimport websocketController from \"../controllers/websocket.js\";\r\n\r\nfunction websocketRouter(this: WebSocket, rawMessage: string) {\r\n\tconst message : WebsocketMessage = JSON.parse(rawMessage);\r\n\tif (message.type === \"wb_user_message\") {\r\n\t\twebsocketController.postMessage(this, message);\r\n\t}\r\n}\r\n\r\nexport default websocketRouter;\r\n"]}