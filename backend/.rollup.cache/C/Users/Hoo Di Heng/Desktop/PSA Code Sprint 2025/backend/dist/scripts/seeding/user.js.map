{"version":3,"file":"user.js","sourceRoot":"","sources":["../../../scripts/seeding/user.ts"],"names":[],"mappings":"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","sourcesContent":["import { faker } from \"@faker-js/faker\";\r\nimport User from \"../../models/user.js\";\r\nimport dayjs from \"dayjs\";\r\n\r\nconst skillsPool = [\r\n\t\"Data Analytics\",\r\n\t\"Data Management\",\r\n\t\"Excel\",\r\n\t\"Process Optimization\",\r\n\t\"Leadership\",\r\n\t\"Inventory Management\",\r\n\t\"Supply Chain Management\",\r\n\t\"Advanced Data Analysis\",\r\n\t\"Team Management\",\r\n];\r\n\r\nconst notificationsPool = [\r\n\t\"Welcome to PSA Horizon!\",\r\n\t\"New course available: Advanced Analytics\",\r\n\t\"Reminder: Update your skills profile\",\r\n];\r\n\r\nfunction getRandomInt(min, max) {\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction generateRandomSkills() {\r\n\tconst shuffled = skillsPool.sort(() => 0.5 - Math.random());\r\n\treturn shuffled.slice(0, getRandomInt(1, 3)).map((skill) => ({\r\n\t\tname: skill,\r\n\t\tlevel: getRandomInt(40, 80),\r\n\t}));\r\n}\r\n\r\nfunction generateCareerPath() {\r\n\tconst pathLength = 3;\r\n\tconst path: any[] = [];\r\n\tfor (let i = 0; i < pathLength; i++) {\r\n\t\tconst progress =\r\n\t\t\ti === 0 ? 100 : i === pathLength - 1 ? 0 : getRandomInt(30, 80);\r\n\t\tpath.push({\r\n\t\t\tposition: faker.person.jobTitle(),\r\n\t\t\tprogress,\r\n\t\t\tstartedAt: `202${i + 3}-01-01T00:00:00.000Z`,\r\n\t\t\tendedAt: i === 0 ? `202${i + 3}-12-31T00:00:00.000Z` : undefined,\r\n\t\t\tskillsRequired: generateRandomSkills().map((s) => s.name),\r\n\t\t});\r\n\t}\r\n\treturn path;\r\n}\r\n\r\nfunction generateMoodData(start: Date, skipProbability = 0.3) {\r\n\tconst data: { level: number; date: Date }[] = [];\r\n\tconst today = new Date();\r\n\r\n\tfor (let d = new Date(start); d <= today; d.setDate(d.getDate() + 1)) {\r\n\t\tif (Math.random() > skipProbability) {\r\n\t\t\tdata.push({\r\n\t\t\t\tdate: new Date(d),\r\n\t\t\t\tlevel: Math.floor(Math.random() * 10) + 1,\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n\r\nfunction generateNotifications() {\r\n\tconst count = getRandomInt(1, 3);\r\n\treturn Array.from({ length: count }).map(() => ({\r\n\t\tmessage:\r\n\t\t\tnotificationsPool[getRandomInt(0, notificationsPool.length - 1)],\r\n\t\tread: Math.random() > 0.5,\r\n\t}));\r\n}\r\n\r\nconst generateUsers = () => {\r\n\tconst users = Array.from({ length: 500 }).map(() => ({\r\n\t\tname: faker.person.fullName(),\r\n\t\temail: faker.internet.email(),\r\n\t\tavatar: faker.image.avatar(),\r\n\t\tbio: faker.person.bio(),\r\n\t\tposition: faker.person.jobTitle(),\r\n\t\trole: \"user\",\r\n\t\tpassword:\r\n\t\t\t\"$2b$10$TS8eBH1GUf7F3haX1WnX9uqVCzYW9f4ig5abjp4fEMUVkdrqrh91a\",\r\n\t\tsubordinates: [],\r\n\t\texperienceLevel: getRandomInt(0, 25),\r\n\t\tmentorshipRequests: [],\r\n\t\tskills: generateRandomSkills(),\r\n\t\tnotifications: generateNotifications(),\r\n\t\tcareerPath: generateCareerPath(),\r\n\t\tmoods: generateMoodData(dayjs().subtract(2, \"month\").toDate()),\r\n\t}));\r\n\tusers.push({\r\n\t\tname: \"Di Heng\",\r\n\t\temail: \"gren@gmail.com\",\r\n\t\tposition: \"Software Engineer\",\r\n\t\trole: \"user\",\r\n\t\tbio: faker.person.bio(),\r\n\t\tpassword:\r\n\t\t\t\"$2b$10$TS8eBH1GUf7F3haX1WnX9uqVCzYW9f4ig5abjp4fEMUVkdrqrh91a\",\r\n\t\tsubordinates: [],\r\n\t\texperienceLevel: 2,\r\n\t\tmentorshipRequests: [],\r\n\t\tavatar: \"https://avatars.githubusercontent.com/u/126308058?v=4\",\r\n\t\tskills: [\r\n\t\t\t{\r\n\t\t\t\tname: \"Software Engineer\",\r\n\t\t\t\tlevel: 60,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"AI Engineer\",\r\n\t\t\t\tlevel: 50,\r\n\t\t\t},\r\n\t\t],\r\n\t\tnotifications: [\r\n\t\t\t{\r\n\t\t\t\tmessage: \"Welcome to PSA Horizon!\",\r\n\t\t\t\tread: false,\r\n\t\t\t},\r\n\t\t],\r\n\t\tcareerPath: [\r\n\t\t\t{\r\n\t\t\t\tposition: \"Junior Software Engineer\",\r\n\t\t\t\tprogress: 100,\r\n\t\t\t\tstartedAt: \"2023-01-01T00:00:00.000Z\",\r\n\t\t\t\tendedAt: \"2023-12-31T00:00:00.000Z\",\r\n\t\t\t\tskillsRequired: [\"Data Analysis\", \"Excel\", \"Basic Logistics\"],\r\n\t\t\t\t_id: \"68e0fa5fb8980e66e106acae\",\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: \"Software Engineer\",\r\n\t\t\t\tprogress: 65,\r\n\t\t\t\tstartedAt: \"2024-01-01T00:00:00.000Z\",\r\n\t\t\t\tskillsRequired: [\r\n\t\t\t\t\t\"Advanced Data Analysis\",\r\n\t\t\t\t\t\"Process Optimization\",\r\n\t\t\t\t],\r\n\t\t\t\t_id: \"68e0fa5fb8980e66e106acaf\",\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: \"Senior Software Engineer\",\r\n\t\t\t\tprogress: 0,\r\n\t\t\t\tskillsRequired: [\"Leadership\", \"Supply Chain Management\"],\r\n\t\t\t\t_id: \"68e0fa5fb8980e66e106acb0\",\r\n\t\t\t},\r\n\t\t],\r\n\t\tmoods: generateMoodData(dayjs().subtract(2, \"month\").toDate()),\r\n\t});\r\n\treturn users;\r\n};\r\n\r\nexport async function seedUsers() {\r\n\ttry {\r\n\t\tawait User.insertMany(generateUsers());\r\n\t\tconsole.log(\"Users seeded successfully\");\r\n\t} catch (err) {\r\n\t\tconsole.error(\"Error inserting users:\", err);\r\n\t}\r\n}\r\n"]}